@model IEnumerable<DPSapp.Models.Patient>

    @{
        ViewBag.Title = "Pacjenci";
    }

    <h2>Index</h2>
    <p id="dodaj">
        @Html.ActionLink("Dodaj nowego pacjenta", "Create")
    </p>
    @*@using (Html.BeginForm())
    {
<p>
    Find by name: @Html.TextBox("SearchString")
    <input type="submit" value="Search" />
</p>
    }*@

    @*<br />*@
    <br />
    <div class="container">
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i> </span>
                <input type="text" id="Search" placeholder="Search" class="form-control" />
            </div>
        </div>
    </div>
    <br />
    <table class="table table-hover" id="tabelka">
        <tr>
            <th>
                @*@Html.DisplayNameFor(model => model.RecipeName)*@
                @Html.ActionLink("Imię pacjenta", "Index", new { sortOrder = ViewBag.NameSortParm })
            </th>
            <th>
                @* @Html.DisplayNameFor(model => model.Date)*@
                @Html.ActionLink("Nazwisko pacjenta", "Index", new { sortOrder = ViewBag.SurnameSortParm })
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
    <tr class="Search">
        <td>
            @*<a href="=#" data-toggle="popover" data-trigger="hover" id="@item.RecipeID">
            @item.RecipeName*@
            @Html.DisplayFor(modelItem => item.PatientName)
            @*</a>*@


        </td>
        <td>

            @Html.DisplayFor(modelItem => item.PatientSurname)
        </td>
        @*<td>
            <div>
                <input type="button" value="Dodaj znacznik" onclick="@("window.location.href='" + @Url.Action("Create","PatientTag") + "'");" />

            </div>
        </td>*@

        <td>
            @Html.ActionLink("Edytuj", "Edit", new { id = item.PatientId }) |
            @Html.ActionLink("Szczegóły", "Details", new { id = item.PatientId }) |
            @Html.ActionLink("Usuń", "Delete", new { id = item.PatientId })
        </td>
    </tr>
        }

    </table>

    @*<script src="~/Scripts/jquery-3.3.1.min.js"></script>
        <script>
            $(document).ready(function () {
                $('[data-toggle="popover"]').popover({
                    title: setData,
                    html: true,
                    placement: 'right'
                });
                function setData(id) {
                    var set_data = '';
                    var element = $(this);
                    var id = element.attr("id");
                    $.ajax({
                        url: "/Recipe/Index/RecipeInfo?id" + id,
                        method: "post",
                        async: false,
                        data: { id: id },
                        succes: function (data) {
                            set_data = data;
                        }
                    });
                    return set_data;
                }
            });*@
@* Jakaś wyszukiwajka. Na razie nie działa *@
    @*</script>
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script>
        $(document).ready(function () {
            function Contains(text_one, text_two) {
                if (text_one.indexOf(text_two) != -1)
                    return true;
            }
            $("#Search").keyup(function () {
                var searchText = $("#Search").val().toLocaleLowerCase();
                $(".Search").each(function () {
                    if (!Contains($(this).text().toLowerCase(), searchText)) {
                        $(this).hide();
                    }
                    else {
                        $(this).show();
                    }
                });
            });
        });
    </script>*@

